# Description : SPIRV-headers
# URL         : https://www.khronos.org/registry/spir-v
# Maintainer  : camille, camille at lzr dot pw
# Depends on  : cmake

name=spirv-headers
commit=04b76709bf40a7ce8df3382060ef3620f19de566
version=20250625
release=1
source=("https://github.com/khronosgroup/$name/archive/$commit.tar.gz")

build() {
    cd "SPIRV-Headers-$commit"

    cmake                                 \
        -B build -G Ninja                 \
		-D CMAKE_INSTALL_PREFIX=/usr      \
		-D CMAKE_INSTALL_LIBDIR=lib       \
		-D CMAKE_BUILD_TYPE=release       \
		-D SPIRV_HEADERS_ENABLE_TESTS=off \
		-Wno-dev

    cmake --build build

    DESTDIR="$PKG" cmake --install build
}

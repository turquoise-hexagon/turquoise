# Description : MessagePack implementation for C and C++
# URL         : https://github.com/msgpack/msgpack-c
# Maintainer  : camille, camille at lzr dot pw
# Depends on  : cmake boost

name=msgpack
version=4.0.1
commit=133934307783ad42147d5769a1cb849319c85e53
release=1
source=()

build() {
    git clone "https://github.com/$name/$name-c"

    mkdir "$name-c/build"; cd "$_"

    git reset --hard "$commit"

    for branch in c_master cpp_master; do
        git checkout "$branch"

        cmake .. -DCMAKE_INSTALL_PREFIX=/usr

        make
        make DESTDIR="$PKG" install
    done
}
